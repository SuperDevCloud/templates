version: 1.0.0
name: Sample - SuperDev Template
resources:
  - type: github-service
    repo-user: SuperDevCloud
    repo-name: strapi-starter
    branch: master
    copy-repo: false # public repo that does not need to be copied to user account. Default to true
    port: 3000
    health-path: /
    output-env-name:
      endpoint-sd-url: STRAPI_URL
      endpoint-port: STRAPI_PORT
      health-path: STRAPI_HEALTH_PATH
    input-env-auto:
      - SOME_OTHER_SERVICE_API_URL
      - SOME_OTHER_SERVICE_API_PORT
      - SOME_OTHER_SERVICE_API_HEALTH_PATH
      - DB_MYSQL_USERNAME
      - DB_MYSQL_PASSWORD
      - DB_MYSQL_HOST
      - DB_MYSQL_PORT
      - DB_MYSQL_NAME
    input-env-user-input:
      - CLOUDWATCH_URL
      - CLOUDINARY_URL
      - CLOUDINARY_KEY
      - CLOUDINARY_SECRET
  - type: github-service
    repo-user: SuperDevCloud
    repo-name: strapi-starter
    branch: master
    copy-repo: true # Save repo into user account
    port: 8080
    health-path: /actuator/health
    output-env-name:
      endpoint-sd-url: SOME_OTHER_SERVICE_API_URL
      endpoint-custom-domain-url: SOME_OTHER_SERVICE_API_CUSTOM_DOMAIN_URL
      endpoint-port: SOME_OTHER_SERVICE_API_PORT
      health-path: SOME_OTHER_SERVICE_API_HEALTH_PATH
  - type: docker-service
    docker-repo: bitnami
    docker-name: grafana
    docker-tag: latest
    port: 8080
    health-path: /actuator/health
    output-env-name:
      endpoint-sd-url: SOME_DOCKER_API_URL
      endpoint-custom-domain-url: SOME_DOCKER_API_CUSTOM_DOMAIN_URL
      endpoint-port: SOME_DOCKER_API_PORT
      health-path: SOME_DOCKER_API_HEALTH_PATH
  - type: mysql-db
    version: 1.2
    storage-gb: 10
    output-env-name:
      database-username: DB_MYSQL_USERNAME
      database-password: DB_MYSQL_PASSWORD
      database-host: DB_MYSQL_HOST
      database-port: DB_MYSQL_PORT
      database-name: DB_MYSQL_NAME
